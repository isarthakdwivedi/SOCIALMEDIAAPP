{% load static %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet">

<div class="container mt-4">
    <h2 class="text-center mb-4">Instagram Feed</h2>
    <div class="row">
        {% for item in media %}
            <div class="col-md-4 mb-4">
                <div class="card shadow-sm h-100">
                    {% if item.media_type == "IMAGE" or item.media_type == "CAROUSEL_ALBUM" %}
                        <img src="{{ item.media_url }}" class="card-img-top" alt="Instagram Media">
                    {% elif item.media_type == "VIDEO" %}
                        <video class="card-img-top" controls>
                            <source src="{{ item.media_url }}" type="video/mp4">
                            Your browser does not support the video tag.
                        </video>
                    {% endif %}
                    <div class="card-body text-center">
                        <p class="card-text">{{ item.caption|default:"No caption" }}</p>
                        <a href="{{ item.permalink }}" target="_blank" class="btn btn-primary">View on Instagram</a>
                        <button class="btn btn-outline-danger mt-2" disabled>❤️ Like</button>
                        <!-- Like button is static due to API limitation -->
                    </div>
                </div>
            </div>
        {% endfor %}
    </div>
</div>
